[
  {
    "category": "Frontend / Habit Management",
    "description": "Render habit creation UI with a required name field.",
    "steps_to_verify": [
      "Open the habit creation screen",
      "Verify a name input is present and marked as required",
      "Verify save action is disabled when name is empty"
    ],
    "passes": true
  },
  {
    "category": "Backend / Habit Management",
    "description": "Reject habit creation requests without a name.",
    "steps_to_verify": [
      "Send habit creation request without name",
      "Verify request fails with validation error",
      "Verify no habit is persisted"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Display newly created habits in the Today list.",
    "steps_to_verify": [
      "Create a habit",
      "Navigate to Today screen",
      "Verify habit appears immediately"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Allow reordering of habits via drag-and-drop.",
    "steps_to_verify": [
      "Create multiple habits",
      "Reorder habits",
      "Verify UI reflects new order"
    ],
    "passes": true
  },
  {
    "category": "Backend / Habit Management",
    "description": "Persist habit order per user.",
    "steps_to_verify": [
      "Update habit order",
      "Reload or refetch habits",
      "Verify order persists"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Allow user to complete a habit for the current day.",
    "steps_to_verify": [
      "Open Today screen",
      "Tap completion control",
      "Verify completed state is shown"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Render a strikethrough style for habits completed today.",
    "steps_to_verify": [
      "Open Today screen",
      "Complete a habit",
      "Verify the habit name displays with strikethrough styling"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Move completed habits to the bottom of the Today list.",
    "steps_to_verify": [
      "Open Today screen",
      "Complete a habit",
      "Verify the completed habit moves below incomplete habits"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Allow user to undo a habit completion for the current day.",
    "steps_to_verify": [
      "Complete a habit",
      "Tap completion control again",
      "Verify habit is marked incomplete"
    ],
    "passes": true
  },
  {
    "category": "Backend / Daily Check-in",
    "description": "Store a single completion per habit per local day.",
    "steps_to_verify": [
      "Submit completion request",
      "Verify completion is stored with local date",
      "Verify duplicate completions are prevented"
    ],
    "passes": true
  },
  {
    "category": "Backend / Daily Check-in",
    "description": "Remove or deactivate completion when undone.",
    "steps_to_verify": [
      "Undo a completion",
      "Verify completion record is removed or inactive",
      "Verify streaks recalculate"
    ],
    "passes": true
  },
  {
    "category": "Backend / Streaks",
    "description": "Calculate current streak from consecutive daily completions.",
    "steps_to_verify": [
      "Create completions on consecutive days",
      "Request streak data",
      "Verify current streak count"
    ],
    "passes": true
  },
  {
    "category": "Backend / Streaks",
    "description": "Reset current streak after a missed day while preserving best streak.",
    "steps_to_verify": [
      "Build multi-day streak",
      "Miss one day",
      "Complete habit again",
      "Verify current streak resets and best streak remains"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Streaks",
    "description": "Display current and best streak per habit.",
    "steps_to_verify": [
      "Open Today screen",
      "Verify streak values are visible",
      "Complete habit and verify update"
    ],
    "passes": true
  },
  {
    "category": "Frontend / History",
    "description": "Render a read-only history view for a habit.",
    "steps_to_verify": [
      "Navigate to habit history",
      "Verify completed days are visible",
      "Verify no editing is possible"
    ],
    "passes": true
  },
  {
    "category": "Backend / History",
    "description": "Return historical completion data for a habit.",
    "steps_to_verify": [
      "Request habit history",
      "Verify all stored completion dates are returned",
      "Verify future dates are excluded"
    ],
    "passes": true
  },
  {
    "category": "Backend / History",
    "description": "Preserve historical data for archived habits.",
    "steps_to_verify": [
      "Archive a habit",
      "Request history",
      "Verify historical completions remain accessible"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Allow users to delete a habit from the UI.",
    "steps_to_verify": [
      "Open the habit actions menu",
      "Select delete",
      "Confirm deletion",
      "Verify the habit is removed from the list"
    ],
    "passes": true
  },
  {
    "category": "Backend / Habit Management",
    "description": "Delete a habit and its related data on request.",
    "steps_to_verify": [
      "Send delete habit request",
      "Verify habit is removed",
      "Verify related completions are removed or archived"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Create a pending partnership invite.",
    "steps_to_verify": [
      "Generate partner invite",
      "Verify invite is stored as pending",
      "Verify no data is shared yet"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Activate partnership upon acceptance.",
    "steps_to_verify": [
      "Accept invite",
      "Verify partnership is active",
      "Verify start date is recorded"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display partner habit names and today’s completion status.",
    "steps_to_verify": [
      "Sign in as user A",
      "Send a partner invite to user B",
      "Sign in as user B and accept the invite",
      "Return to the partner view",
      "Verify partner habit names render",
      "Verify today’s completion status is visible for each habit"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow users to invite a partner from the UI.",
    "steps_to_verify": [
      "Open the Partner section",
      "Locate the partner email input",
      "Enter a valid email address",
      "Submit the invite",
      "Verify a success confirmation is shown",
      "Verify the send action becomes disabled while sending"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow users to accept a partner invite from the UI.",
    "steps_to_verify": [
      "Sign in as user A and send a partner invite",
      "Sign out and sign in as user B",
      "Open the Partner section",
      "Verify the pending invite is listed",
      "Accept the invite",
      "Verify the partner section switches to Active",
      "Verify partner habits become visible"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display incoming invite labels using inviter name and email instead of raw user ID.",
    "steps_to_verify": [
      "Sign in as user A (e.g., Bob with bob@gmail.com) and send a partner invite to user B",
      "Sign in as user B and open the Partner section",
      "Verify the invite label reads like 'Invite from Bob (bob@gmail.com)'",
      "Verify the label does not show a raw user ID format such as 'Invite from user <ID>'"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Restrict partner visibility to post-partnership data only.",
    "steps_to_verify": [
      "Create completions before partnership",
      "Activate partnership",
      "Verify pre-partnership data is excluded"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Allow either user to revoke partnership immediately.",
    "steps_to_verify": [
      "Revoke partnership",
      "Verify partner data is no longer accessible"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow users to remove an active partner from the UI.",
    "steps_to_verify": [
      "Open the Partner section with an active partner",
      "Trigger the remove partner action",
      "Confirm the removal",
      "Verify the partner section returns to invite state"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Handle partner removal requests and clear partnership data.",
    "steps_to_verify": [
      "Send a partner removal request",
      "Verify partnership is deleted or deactivated",
      "Verify partner data is no longer accessible"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Calendar View",
    "description": "Render a monthly calendar for a single habit.",
    "steps_to_verify": [
      "Open habit progress view",
      "Verify 7-column monthly grid",
      "Verify current month is default"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Calendar View",
    "description": "Visually distinguish completed, missed, today, and future days.",
    "steps_to_verify": [
      "Open calendar",
      "Verify completed days are highlighted",
      "Verify missed days are muted",
      "Verify today is outlined",
      "Verify future days are disabled"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Calendar View",
    "description": "Allow navigation between months.",
    "steps_to_verify": [
      "Navigate to previous or next month",
      "Verify calendar updates accordingly"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Calendar View",
    "description": "Display current and best streak above the calendar.",
    "steps_to_verify": [
      "Open calendar view",
      "Verify streak values are visible and correct"
    ],
    "passes": true
  },
  {
    "category": "Backend / Calendar View",
    "description": "Return completion dates scoped to habit and month.",
    "steps_to_verify": [
      "Request calendar data for habit and month",
      "Verify only dates within month are returned"
    ],
    "passes": true
  },
  {
    "category": "Backend / Calendar View",
    "description": "Exclude dates before habit creation and after today.",
    "steps_to_verify": [
      "Request calendar data",
      "Verify out-of-bounds dates are excluded"
    ],
    "passes": true
  },
  {
    "category": "Backend / Calendar View",
    "description": "Ensure calendar data respects user local timezone.",
    "steps_to_verify": [
      "Complete habit near day boundary",
      "Request calendar data",
      "Verify correct local day mapping"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Platform",
    "description": "Ensure Today screen is usable on mobile viewports.",
    "steps_to_verify": [
      "Open app on mobile viewport",
      "Verify all controls are touch-friendly"
    ],
    "passes": true
  },
  {
    "category": "Backend / Platform",
    "description": "Support offline completions with eventual sync.",
    "steps_to_verify": [
      "Complete habits offline",
      "Restore connectivity",
      "Verify completions sync without duplication"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Render sign-in screen with email and password inputs.",
    "steps_to_verify": [
      "Open the app while logged out",
      "Verify email and password inputs are visible",
      "Verify submit button is disabled while fields are empty"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Allow users to create an account with email and password.",
    "steps_to_verify": [
      "Switch to sign-up mode",
      "Submit a new email and password",
      "Verify user is signed in after success"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Provide a visible sign-out action when a user is signed in.",
    "steps_to_verify": [
      "Sign in",
      "Locate the header or profile control",
      "Verify a sign-out action is visible"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Display the signed-in user's name in the UI.",
    "steps_to_verify": [
      "Sign in",
      "Locate the greeting or user label",
      "Verify the user's name is shown (e.g., 'Hi Bob')"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Sign out clears session and returns user to the sign-in view.",
    "steps_to_verify": [
      "Sign in",
      "Trigger sign out",
      "Verify session UI is cleared",
      "Verify sign-in view is shown"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Persist session across refresh when the user is signed in.",
    "steps_to_verify": [
      "Sign in",
      "Refresh the page",
      "Verify user remains signed in"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Auth",
    "description": "Display auth errors inline for failed sign-in or sign-up.",
    "steps_to_verify": [
      "Attempt sign-in with invalid credentials",
      "Verify an error message is visible",
      "Attempt sign-up with invalid input",
      "Verify an error message is visible"
    ],
    "passes": true
  },
  {
    "category": "Backend / Auth",
    "description": "Reject sign-in with invalid credentials.",
    "steps_to_verify": [
      "Submit invalid email or password",
      "Verify response indicates authentication failure",
      "Verify no session is created"
    ],
    "passes": true
  },
  {
    "category": "Backend / Auth",
    "description": "Create a session on successful sign-in.",
    "steps_to_verify": [
      "Submit valid credentials",
      "Verify session cookie is set",
      "Verify session is returned by session endpoint"
    ],
    "passes": true
  },
  {
    "category": "Backend / Auth",
    "description": "Invalidate the session on sign out.",
    "steps_to_verify": [
      "Sign in",
      "Sign out",
      "Verify session cookie is cleared",
      "Verify session endpoint returns logged out"
    ],
    "passes": true
  },
  {
    "category": "Backend / Auth",
    "description": "Restrict protected API routes to authenticated users.",
    "steps_to_verify": [
      "Request a protected endpoint without a session",
      "Verify request is rejected",
      "Request the same endpoint with a session",
      "Verify request succeeds"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display pending invites sent by the current user in the Partner section.",
    "steps_to_verify": [
      "Sign in as user A",
      "Send a partner invite",
      "Verify the invite appears under a Sent invites list"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Restrict users to one pending sent invite at a time.",
    "steps_to_verify": [
      "Send a partner invite as user A",
      "Attempt to send a second invite before the first is accepted or deleted",
      "Verify request is rejected with a pending-invite message"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Hide partner invite input/actions while a pending sent invite exists.",
    "steps_to_verify": [
      "Send a partner invite",
      "Return to the Partner section",
      "Verify the invite input and send button are hidden while pending"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow users to delete their own pending sent invite from the UI.",
    "steps_to_verify": [
      "Send a partner invite",
      "Click Delete on the sent invite",
      "Verify the invite disappears and invite input/actions return"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Allow inviters to cancel their own pending invite and support re-invite after stale accepted invite history.",
    "steps_to_verify": [
      "Create a pending invite and cancel it as inviter",
      "Verify invite record is removed",
      "Attempt to re-invite same email after previous partnership removal",
      "Verify invite creation succeeds"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow invited users to reject a pending partner invite from the UI.",
    "steps_to_verify": [
      "Sign in as user A and send an invite to user B",
      "Sign in as user B and open the Partner section",
      "Verify a Reject action is available on the pending invite",
      "Reject the invite",
      "Verify the invite is removed from user B pending invites"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Support rejecting an invite by transitioning status from pending to rejected for the invitee only.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "Submit reject action as user B",
      "Verify invite status changes to rejected",
      "Verify reject action fails for non-invitee users"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Show rejected sent invites to the inviter with clear rejected status.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "Reject invite as user B",
      "Return to user A Partner section",
      "Verify invite appears as rejected in sent invites"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Include rejected sent invites in inviter-facing invite responses.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "Reject invite as user B",
      "Fetch inviter invite list",
      "Verify rejected invite is returned with rejected status"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow inviters to resend a rejected invite from the sent invites list.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "Reject invite as user B",
      "Sign in as user A and click Resend on rejected invite",
      "Verify invite becomes pending again"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow inviters to clear a rejected invite from their sent invites list.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "Reject invite as user B",
      "Sign in as user A and click Clear on rejected invite",
      "Verify rejected invite is removed from user A sent invites"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Allow inviters to clear rejected invites without affecting active partnerships.",
    "steps_to_verify": [
      "Create a rejected invite for user A",
      "Submit clear action as user A",
      "Verify rejected invite is deleted",
      "Verify active partnerships remain unchanged"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Prevent duplicate cross-invites when opposite-direction pending invite already exists.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "While A->B invite is pending, attempt to send invite from user B to user A",
      "Verify request is rejected with a clear duplicate or conflict message",
      "Verify only one pending invite exists between the two users"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Show explicit in-app feedback to inviters when sent invites are accepted, rejected, or cancelled.",
    "steps_to_verify": [
      "Send invite from user A to user B",
      "As user B, accept, reject, or cancel the invite in separate test runs",
      "Return to user A and open the Partner section",
      "Verify user A sees a clear status message for the resulting invite outcome"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display the active partner name in the partner habits heading instead of a generic Partner label.",
    "steps_to_verify": [
      "Sign in as user A and establish an active partnership with user B (e.g., Bob)",
      "Open the Partner section as user A",
      "Verify the heading reads Bob's Habits or equivalent partner-name-based text",
      "Verify a generic Partner heading is not shown for the active partnership"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Return only active non-deleted habits in partner habit list responses.",
    "steps_to_verify": [
      "Create multiple habits for user B and establish active partnership with user A",
      "Delete one of user B's habits",
      "Fetch partner habit list as user A",
      "Verify deleted habits are excluded and only active habits are returned"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Show a clear empty state when an active partner has no active habits.",
    "steps_to_verify": [
      "Establish an active partnership between user A and user B",
      "Ensure user B has no active habits",
      "Open the Partner section as user A",
      "Verify a clear empty-state message is shown instead of a blank habit list"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display a last-updated timestamp for partner habit status data to indicate freshness.",
    "steps_to_verify": [
      "Establish an active partnership and open the Partner section",
      "Verify a visible last-updated or synced timestamp is shown for partner status data",
      "Trigger a partner habit status change",
      "Verify the timestamp refreshes to reflect the latest update"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Partnering",
    "description": "Show a clear in-app state when a partner removes the current user.",
    "steps_to_verify": [
      "Establish an active partnership between user A and user B",
      "As user B, remove the partner",
      "Return to user A and open the Partner section",
      "Verify user A sees a clear message that the partnership ended and can invite a new partner"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Reject partner invites where the target email matches the inviter email.",
    "steps_to_verify": [
      "Sign in as a user and attempt to send a partner invite to the same account email",
      "Verify the request is rejected",
      "Verify the response includes a clear self-invite validation message"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Allow users to send a generic nudge to an active partner from the Partner section.",
    "steps_to_verify": [
      "Establish an active partnership between user A and user B",
      "Open the Partner section as user A",
      "Click the nudge action",
      "Verify user A sees a clear nudge-sent confirmation"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Create and persist partner nudge events for active partnerships only.",
    "steps_to_verify": [
      "Send a nudge from user A to user B while partnership is active",
      "Verify the nudge event is stored with sender, receiver, and timestamp",
      "Remove the partnership and attempt another nudge",
      "Verify nudge request is rejected when partnership is inactive"
    ],
    "passes": true
  },
  {
    "category": "Backend / Partnering",
    "description": "Enforce nudge cooldown and daily rate limits with clear API error messages.",
    "steps_to_verify": [
      "Send a nudge successfully",
      "Immediately attempt to send another nudge",
      "Verify request is rejected with cooldown message",
      "Exceed daily cap and verify request is rejected with limit message"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Show nudge cooldown state in UI and prevent repeated nudge taps during cooldown.",
    "steps_to_verify": [
      "Send a nudge from user A",
      "Verify nudge button enters disabled or cooldown state",
      "Attempt to tap nudge during cooldown",
      "Verify duplicate send is prevented and feedback is shown"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Partnering",
    "description": "Display incoming nudges in-app with sender name and relative timestamp.",
    "steps_to_verify": [
      "Send a nudge from user A to user B",
      "Open Partner section as user B",
      "Verify incoming nudge content includes sender name",
      "Verify relative time is shown (e.g., just now, 2m ago)"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Notifications",
    "description": "Show in-app nudge banner when the app is currently visible and focused.",
    "steps_to_verify": [
      "Open app as user B in a visible active tab",
      "Send a nudge from user A to user B",
      "Verify user B sees in-app nudge banner",
      "Verify no duplicate system notification is shown while visible"
    ],
    "passes": true
  },
  {
    "category": "PWA / Platform",
    "description": "Configure the app as an installable PWA with service worker and web app manifest.",
    "steps_to_verify": [
      "Run app in production-like mode",
      "Verify manifest and service worker are registered",
      "Verify install prompt or installability criteria are satisfied",
      "Install app and confirm it opens in standalone mode"
    ],
    "passes": true
  },
  {
    "category": "Backend / Notifications",
    "description": "Store and manage Web Push subscriptions per authenticated user.",
    "steps_to_verify": [
      "Grant notification permission as user A",
      "Register push subscription from user A client",
      "Verify subscription is persisted server-side for user A",
      "Unsubscribe and verify subscription is removed or deactivated"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Notifications",
    "description": "Request notification permission and register Web Push subscription for signed-in users.",
    "steps_to_verify": [
      "Sign in as a user in a supported browser",
      "Trigger notification enable flow",
      "Grant permission and verify subscription registration succeeds",
      "Verify clear error state is shown when permission is denied"
    ],
    "passes": true
  },
  {
    "category": "Backend / Notifications",
    "description": "Send Web Push notification to partner when a nudge is created.",
    "steps_to_verify": [
      "Ensure receiver has an active push subscription",
      "Send nudge from user A to user B",
      "Verify backend dispatches push message to user B subscriptions",
      "Verify sender receives success even if one stale subscription is pruned"
    ],
    "passes": true
  },
  {
    "category": "PWA / Notifications",
    "description": "Show system notification for nudges when app is hidden, in another tab, minimized, or closed.",
    "steps_to_verify": [
      "Keep user B app open but hidden in background and send nudge from user A",
      "Verify user B receives system notification",
      "Close user B app and send another nudge",
      "Verify user B still receives system notification and can open app from notification click"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Replace the inline create-habit card with a floating plus action button that opens a create-habit modal.",
    "steps_to_verify": [
      "Open the Today screen",
      "Verify the full-width create-habit card is no longer shown",
      "Verify a floating plus action button is visible",
      "Click the floating plus button and verify a create-habit modal opens"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Show the same plus action in the empty Today state and open the same create-habit modal from it.",
    "steps_to_verify": [
      "Ensure there are no active habits",
      "Verify the empty state shows a plus action",
      "Click the empty-state plus action",
      "Verify the same create-habit modal opens"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Create-habit modal requires a non-empty name and adds the new habit to the Today list on success.",
    "steps_to_verify": [
      "Open create-habit modal",
      "Verify save action is disabled when name is empty",
      "Submit a valid habit name",
      "Verify modal closes and new habit appears in Today list"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Provide a two-step delete flow that lets users choose Archive (keep history) or Delete forever (permanent removal).",
    "steps_to_verify": [
      "Open habit actions and trigger delete",
      "Verify first modal shows Archive and Delete forever options",
      "Choose Delete forever and verify a second irreversible confirmation appears",
      "Verify action only proceeds after second confirmation"
    ],
    "passes": false
  },
  {
    "category": "Backend / Habit Management",
    "description": "Support both archive and hard delete operations for habits with clear, separate semantics.",
    "steps_to_verify": [
      "Archive a habit and verify habit row remains with archived state",
      "Hard delete a habit and verify habit row is physically removed",
      "Verify API responses distinguish archive vs hard delete outcomes"
    ],
    "passes": true
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Display an Archived habits list so users can review archived habits separately from active habits.",
    "steps_to_verify": [
      "Archive one or more habits",
      "Open Today screen and verify archived habits appear in an Archived section",
      "Verify archived habits are not shown in active Today list"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Habit Management",
    "description": "Allow users to restore an archived habit back to the active list.",
    "steps_to_verify": [
      "Archive a habit",
      "Use Restore action from Archived list",
      "Verify habit returns to active Today list",
      "Verify habit is removed from Archived section"
    ],
    "passes": false
  },
  {
    "category": "Frontend / History",
    "description": "Allow viewing habit history from the Archived habits list.",
    "steps_to_verify": [
      "Archive a habit with historical completions",
      "Open Archived section and trigger View history",
      "Verify historical completion data is visible and read-only"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Notifications",
    "description": "Allow users to configure per-habit smart reminders (enable/disable and time) and remove a reminder from a habit.",
    "steps_to_verify": [
      "Open a habit reminder control",
      "Enable reminder and set a valid time",
      "Verify reminder state is shown for the habit",
      "Disable or remove the reminder",
      "Verify reminder state is cleared for that habit"
    ],
    "passes": false
  },
  {
    "category": "Backend / Habit Management",
    "description": "Persist per-habit smart reminder settings and support explicit reminder removal.",
    "steps_to_verify": [
      "Save reminder settings for a habit",
      "Fetch habits and verify reminder fields are returned correctly",
      "Remove reminder settings for that habit",
      "Fetch habits again and verify reminder fields are cleared"
    ],
    "passes": false
  },
  {
    "category": "Backend / Notifications",
    "description": "Dispatch Web Push smart reminders for habits when due and still incomplete for the user's local day.",
    "steps_to_verify": [
      "Configure per-habit reminder time and ensure push subscription exists",
      "Run reminder dispatch at due time",
      "Verify push notification is sent only for incomplete due habits",
      "Verify completed habits do not receive reminders"
    ],
    "passes": false
  },
  {
    "category": "Backend / Notifications",
    "description": "Prevent duplicate smart reminder sends for the same habit and local day.",
    "steps_to_verify": [
      "Configure reminder for a habit and run dispatcher multiple times in the due window",
      "Verify only one reminder is sent for that habit on that local day",
      "Verify duplicate dispatch attempts are safely ignored"
    ],
    "passes": false
  },
  {
    "category": "Backend / Habit Management",
    "description": "Strictly purge all smart reminder data when a habit is archived or hard deleted.",
    "steps_to_verify": [
      "Configure reminder data for a habit",
      "Archive the habit and verify all reminder configuration/state/log data is removed",
      "Repeat with hard delete and verify all reminder data is removed",
      "Run reminder dispatcher and verify no reminders are sent for purged habits"
    ],
    "passes": false
  },
  {
    "category": "Backend / Notifications",
    "description": "Ensure reminder dispatch excludes archived habits and only targets active habits.",
    "steps_to_verify": [
      "Archive a habit that previously had reminders",
      "Run reminder dispatch cycle",
      "Verify archived habit is not selected for dispatch",
      "Verify active due habits are still selected normally"
    ],
    "passes": false
  },
  {
    "category": "PWA / Notifications",
    "description": "Show habit-specific smart reminder push content and open the app when the notification is clicked.",
    "steps_to_verify": [
      "Trigger a smart reminder push",
      "Verify notification title/body includes habit-specific reminder context",
      "Click notification and verify app opens or focuses to the main screen"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Display a daily completion progress bar showing completed habits out of total active habits.",
    "steps_to_verify": [
      "Open Today screen with active habits",
      "Verify progress text shows completed count and percentage (for example, 3 of 7, 43%)",
      "Complete and uncomplete habits",
      "Verify bar width and percentage update immediately"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Color the daily progress bar by completion percentage using red for low, orange for medium, and green above halfway.",
    "steps_to_verify": [
      "Set completion below low threshold and verify bar is red",
      "Set completion in medium range and verify bar is orange",
      "Set completion above 50% and verify bar is green"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Handle zero-habit state for daily progress with neutral styling and no error color.",
    "steps_to_verify": [
      "Open Today screen with no active habits",
      "Verify progress area uses neutral styling",
      "Verify no red/orange/green progress state is shown"
    ],
    "passes": false
  },
  {
    "category": "Frontend / Daily Check-in",
    "description": "Trigger celebratory confetti each time daily completion reaches 100% from below.",
    "steps_to_verify": [
      "Open Today screen below 100% completion",
      "Complete remaining habits to reach 100%",
      "Verify confetti plays when crossing to 100%",
      "Mark one habit incomplete and complete it again",
      "Verify confetti plays again when 100% is re-reached"
    ],
    "passes": false
  }
]
